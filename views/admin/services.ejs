<div class="container mt-4">
    <h2><%= title %></h2>

    <table class="table table-bordered mt-3">
        <thead>
        <tr>
            <th>ID</th>
            <th>Service Name</th>
            <th>Department</th>
            <th>Fee</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <% if (services.length > 0) { %>
            <% services.forEach(s => { %>
                <tr>
                    <td><%= s.id %></td>
                    <td><%= s.name %></td>
                    <td><%= s.department %></td>
                    <td>$<%= s.fee %></td>
                    <td>
                        <a href="/admin/services/<%= s.id %>/edit" class="btn btn-sm btn-primary">Edit</a>
                        <a href="/admin/services/<%= s.id %>/delete" class="btn btn-sm btn-danger">Delete</a>
                    </td>
                </tr>
            <% }) %>
        <% } else { %>
            <tr><td colspan="5" class="text-center">No services found</td></tr>
        <% } %>
        </tbody>
    </table>

    <button class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#addServiceModal">
        Add Service
    </button>

    <div class="modal fade" id="addServiceModal" tabindex="-1" aria-labelledby="addServiceModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <form action="/admin/add_service" method="POST" class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addServiceModalLabel">Add Service</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Service Name</label>
                        <input type="text" name="name" class="form-control" placeholder="Enter Service name" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Service Fee</label>
                        <input type="number" name="fee" class="form-control" placeholder="Enter Service fee" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Department</label>
                        <select name="department" class="form-select" required>
                            <option value="">Select Service</option>
                            <% departments.forEach(d=>{%>
                                <option value="<%= d.id %>"><%= d.name %></option>
                            <%})%>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-success">Add Service</button>
                </div>
            </form>
        </div>
    </div>
</div>
